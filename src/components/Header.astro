---
import Hamburger from "./Hamburger.tsx";
import Navigation from "./Navigation.astro";
import ThemeToggle from "./ThemeToggle.astro";
import { getImage } from "astro:assets";
const { is404Page = false } = Astro.props; // Get the prop from Astro.props

const favicon_avif = await getImage({
  src: "https://cdn.erfianugrah.com/ea_favicon.png",
  alt: "favicon",
  // inferSize: true,
  width: "400",
  height: "400",
  decoding: "async",
  format: "avif",
});
---

<header class="mb-[30px] mt-[9px]">
  <nav
    class="flex items-center justify-between w-full h-full relative align-center"
  >
    {
      !is404Page && (
        <div>
          <a href="/">
            <img
              class="favicon absolute left-0 dark:invert -mt-[15px]"
              src={favicon_avif.src}
              alt="Home"
              width="30px"
              height="30px"
            />
          </a>
        </div>
      )
    }
    {
      !is404Page && (
        <div class="absolute right-[55px]">
          <ThemeToggle />
        </div>
      )
    }
    {
      !is404Page && (
        <div class="mt-[-27px]">
          <Hamburger client:load />
        </div>
      )
    }
    {
      !is404Page && (
        <div class="absolute right-0">
          <Navigation />
        </div>
      )
    }
  </nav>
  <slot />
</header>
