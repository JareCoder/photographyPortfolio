---
import "../styles/MasonryLayout.css";
import { getImage  } from "astro:assets";
const { images } = Astro.props;
const imageAssets = await Promise.all(images.map(async (image) => {
  return image ? await getImage({
    src: image.src,
    alt: image.alt,
    width: "2560",
    height: "1440",
    decoding: "async",
    format: "avif",
  }) : null;
}));
---

<div class="masonry">
  {
    imageAssets.map((imageAsset, index) => (
      imageAsset ? (
        <div key={index} class="image-container" id="gallery">
          <a href="" class="image-link glightbox">
            <img
              src={imageAsset.src}
              alt={imageAsset.alt}
              loading="lazy"
              class="image"
            />
          </a>
        </div>
      ) : null
    ))
  }
</div>
<script src="../scripts/lightbox.js"></script>